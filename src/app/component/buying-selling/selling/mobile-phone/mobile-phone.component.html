<div class="animated" style="padding: 10px;">
  <div class="card p-3 b-radius-l">
    <div class="row">
      <div class="col-md-5">
        <form [formGroup]="mobileSellForm">

          <div class="clearfix form-group">
            <div class="row">
              <div class="col-md-3 pt-5px"><label>Barcode</label></div>
              <div class="col-md-9">
                <div class="input-group">
                  <input type="text" class="form-control" formControlName="barcodeId" (focusout)="loadMoreDetails()">
                  <div class="input-group-prepend">
                    <span class="input-group-text"><i class="fa fa-barcode"></i></span>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="clearfix form-group" *ngIf="scannedDetials !== null">
            <div class="row">
              <div class="col-md-3 pt-5px"><label>Selling Type</label></div>
              <div class="col-md-9">
                <select formControlName="issueType" (change)="setSellingPrices()">
                  <option value="CASH">Cash</option>
                  <option value="LEASE">Lease</option>
                </select>
              </div>
            </div>
          </div>

          <div class="clearfix form-group" *ngIf="mobileSellForm.get('issueType').value == 'LEASE'">
            <div class="row">
              <div class="col-md-3 pt-5px"><label>Lease Deduction Type</label></div>
              <div class="col-md-9">
                <select formControlName="leaseType">
                  <option value="FR">Fixed Installments</option>
                  <option value="BR">Balance Reduce</option>
                </select>
              </div>
            </div>
          </div>

          <div class="clearfix form-group" *ngIf="mobileSellForm.get('issueType').value == 'LEASE'">
            <div class="row">
              <div class="col-md-3 pt-5px"><label>Interest Rate</label></div>
              <div class="col-md-9">
                <select formControlName="interestRate" (change)="setSellingPrices()">
                  <option value="2">2 %</option>
                  <option value="3">3 %</option>
                  <option value="4">4 %</option>
                  <option value="5">5 %</option>
                  <option value="10">10 %</option>
                </select>
              </div>
            </div>
          </div>

          <div class="clearfix form-group" *ngIf="mobileSellForm.get('issueType').value == 'LEASE'">
            <div class="row">
              <div class="col-md-3 pt-5px"><label>Down Payment</label></div>
              <div class="col-md-9">
                <input type="text" class="form-control" formControlName="downPayment"
                       (keyup)="setSellingPrices()" [value]="minimubDownPayment">
              </div>
            </div>
          </div>

          <div class="clearfix form-group" *ngIf="mobileSellForm.get('issueType').value == 'LEASE'">
            <div class="row">
              <div class="col-md-3 pt-5px"><label>Time Period</label></div>
              <div class="col-md-9">
                <select formControlName="paymentPeriod" (change)="setSellingPrices()">
                  <option value="1">1 month</option>
                  <option value="3">3 months</option>
                  <option value="6">6 months</option>
                  <option value="12">12 months</option>
                  <option value="36">36 months</option>
                  <option value="48">48 months</option>
                </select>
              </div>
            </div>
          </div>

          <div class="clearfix form-group" *ngIf="scannedDetials !== null">
            <div class="row m-0">
              <div class="col-md-3 pt-5px"></div>
              <div class="col-md-9 mob-price">
                <div class="row">
                  <div class="col-md-6">Interest Rate</div>
                  <div class="col-md-6 let-wod-space">: {{intRate/100 | percent:'2.2'}}</div>
                </div>

                <div class="row">
                  <div class="col-md-6">Selling price</div>
                  <div class="col-md-6 let-wod-space" *ngIf="mobileSellForm.get('issueType').value == 'LEASE'">: {{ remainTotalPrice | currency:'Rs. ' }}</div>
                  <div class="col-md-6 let-wod-space" *ngIf="mobileSellForm.get('issueType').value == 'CASH'">: {{ scannedDetials.sellingPrice|  currency:'Rs. '  }}</div>
                </div>
              </div>
            </div>
          </div>

          <div class="clearfix form-group" *ngIf="scannedDetials !== null && mobileSellForm.get('issueType').value == 'CASH'">
            <div class="row">
              <div class="col-md-3 pt-5px"><label>Discount</label></div>
              <div class="col-md-9">
                <input type="number" class="form-control" formControlName="discount">
              </div>
            </div>
          </div>

          <div class="clearfix form-group" *ngIf="mobileSellForm.get('issueType').value == 'LEASE'">
            <div class="row">
              <div class="col-md-3 pt-5px"><label>Installment/Mo</label></div>
              <div class="col-md-9">
                <input type="text" class="form-control text-right" formControlName="monthlyInstalment"
                       [value]="remainTotalPrice/mobileSellForm.get('paymentPeriod').value">
              </div>
            </div>
          </div>

          <div class="text-right">
            <button class="btn btn-success" [disabled]="mobileSellForm.invalid" (click)="process()">Process</button>
          </div>

        </form>
      </div>

      <div class="col-md-7">
        <div class="clearfix form-group" *ngIf="scannedDetials !== null">
          <div class="row m-0">
            <div class="col-md-12 mob-price">
              <div class="row">
                <div class="col-md-6">Brand</div>
                <div class="col-md-6 let-wod-space">: {{scannedDetials.brandDto.brandName}}</div>
              </div>
              <div class="row">
                <div class="col-md-6">Model</div>
                <div class="col-md-6 let-wod-space">: {{scannedDetials.modelDto.modelId}}</div>
              </div>
              <div class="row">
                <div class="col-md-6">IMEI</div>
                <div class="col-md-6 let-wod-space">: {{scannedDetials.imei}}</div>
              </div>
              <div class="row">
                <div class="col-md-6">Buying Price</div>
                <div class="col-md-6 let-wod-space">: {{scannedDetials.buyingPrice | currency:'Rs. '}}</div>
              </div>
            </div>
          </div>
        </div>

      </div>

    </div>
  </div>






</div>
